# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Resource types**

* [`computer`](#computer): Computer object management using DirectoryService on OS X.  Note that these are distinctly different kinds of objects to 'hosts', as they req
* [`macauthorization`](#macauthorization): Manage the Mac OS X authorization database. See the [Apple developer site](https://developer.apple.com/library/content/documentation/Security
* [`mcx`](#mcx): MCX object management using DirectoryService on OS X.  The default provider of this type merely manages the XML plist as reported by the `dsc

## Resource types

### computer

Computer object management using DirectoryService
on OS X.

Note that these are distinctly different kinds of objects to 'hosts',
as they require a MAC address and can have all sorts of policy attached to
them.

This provider only manages Computer objects in the local directory service
domain, not in remote directories.

If you wish to manage `/etc/hosts` file on Mac OS X, then simply use the host
type as per other platforms.

This type primarily exists to create localhost Computer objects that MCX
policy can then be attached to.

**Autorequires:** If Puppet is managing the plist file representing a
Computer object (located at `/var/db/dslocal/nodes/Default/computers/{name}.plist`),
the Computer resource will autorequire it.

#### Properties

The following properties are available in the `computer` type.

##### `ensure`

Valid values: present, absent

Control the existences of this computer record. Set this attribute to
`present` to ensure the computer record exists.  Set it to `absent`
to delete any computer records with this name

##### `en_address`

The MAC address of the primary network interface. Must match en0.

##### `ip_address`

The IP Address of the Computer object.

#### Parameters

The following parameters are available in the `computer` type.

##### `name`

namevar

The authoritative 'short' name of the computer record.

##### `realname`

The 'long' name of the computer record.

### macauthorization

Manage the Mac OS X authorization database. See the
[Apple developer site](https://developer.apple.com/library/content/documentation/Security/Conceptual/Security_Overview/AuthenticationAndAuthorization/AuthenticationAndAuthorization.html)
for more information.

Note that authorization store directives with hyphens in their names have
been renamed to use underscores, as Puppet does not react well to hyphens
in identifiers.

**Autorequires:** If Puppet is managing the `/etc/authorization` file, each
macauthorization resource will autorequire it.

#### Properties

The following properties are available in the `macauthorization` type.

##### `ensure`

Valid values: present, absent

The basic property that the resource should be in.

Default value: present

##### `auth_type`

Valid values: right, rule

Type --- this can be a `right` or a `rule`. The `comment` type has
not yet been implemented.

##### `allow_root`

Valid values: `true`, `false`

Corresponds to `allow-root` in the authorization store. Specifies
whether a right should be allowed automatically if the requesting process
is running with `uid == 0`.  AuthorizationServices defaults this attribute
to false if not specified.

##### `authenticate_user`

Valid values: `true`, `false`

Corresponds to `authenticate-user` in the authorization store.

##### `auth_class`

Valid values: user, evaluate-mechanisms, allow, deny, rule

Corresponds to `class` in the authorization store; renamed due
to 'class' being a reserved word in Puppet.

##### `comment`

The `comment` attribute for authorization resources.

##### `group`

A group which the user must authenticate as a member of. This
must be a single group.

##### `k_of_n`

How large a subset of rule mechanisms must succeed for successful
authentication. If there are 'n' mechanisms, then 'k' (the integer value
of this parameter) mechanisms must succeed. The most common setting for
this parameter is `1`. If `k-of-n` is not set, then every mechanism ---
that is, 'n-of-n' --- must succeed.

##### `mechanisms`

An array of suitable mechanisms.

##### `rule`

The rule(s) that this right refers to.

##### `session_owner`

Valid values: `true`, `false`

Whether the session owner automatically matches this rule or right.
Corresponds to `session-owner` in the authorization store.

##### `shared`

Valid values: `true`, `false`

Whether the Security Server should mark the credentials used to gain
this right as shared. The Security Server may use any shared credentials
to authorize this right. For maximum security, set sharing to false so
credentials stored by the Security Server for one application may not be
used by another application.

##### `timeout`

The number of seconds in which the credential used by this rule will
expire. For maximum security where the user must authenticate every time,
set the timeout to 0. For minimum security, remove the timeout attribute
so the user authenticates only once per session.

##### `tries`

The number of tries allowed.

#### Parameters

The following parameters are available in the `macauthorization` type.

##### `name`

namevar

The name of the right or rule to be managed.
Corresponds to `key` in Authorization Services. The key is the name
of a rule. A key uses the same naming conventions as a right. The
Security Server uses a rule's key to match the rule with a right.
Wildcard keys end with a '.'. The generic rule has an empty key value.
Any rights that do not match a specific rule use the generic rule.

### mcx

MCX object management using DirectoryService on OS X.

The default provider of this type merely manages the XML plist as
reported by the `dscl -mcxexport` command.  This is similar to the
content property of the file type in Puppet.

The recommended method of using this type is to use Work Group Manager
to manage users and groups on the local computer, record the resulting
puppet manifest using the command `puppet resource mcx`, then deploy it
to other machines.

**Autorequires:** If Puppet is managing the user, group, or computer that these
MCX settings refer to, the MCX resource will autorequire that user, group, or computer.

#### Properties

The following properties are available in the `mcx` type.

##### `ensure`

Valid values: present, absent

Create or remove the MCX setting.

##### `content`

The XML Plist used as the value of MCXSettings in DirectoryService.
This is the standard output from the system command:

    dscl localhost -mcxexport /Local/Default/<ds_type>/ds_name

Note that `ds_type` is capitalized and plural in the dscl command.

#### Parameters

The following parameters are available in the `mcx` type.

##### `name`

namevar

The name of the resource being managed.
The default naming convention follows Directory Service paths:

    /Computers/localhost
    /Groups/admin
    /Users/localadmin

The `ds_type` and `ds_name` type parameters are not necessary if the
default naming convention is followed.

##### `ds_type`

Valid values: user, group, computer, computerlist

The DirectoryService type this MCX setting attaches to.

##### `ds_name`

The name to attach the MCX Setting to. (For example, `localhost`
when `ds_type => computer`.) This setting is not required, as it can be
automatically discovered when the resource name is parseable.  (For
example, in `/Groups/admin`, `group` will be used as the dstype.)

